# ğŸš€ Linux è„šæœ¬å·¥å…·é›†

> ğŸ¯ **æŠŠå¤æ‚çš„ä¸œè¥¿ç®€å•åŒ–**

[![Tools](https://img.shields.io/badge/å·¥å…·æ•°é‡-9+-blue.svg)](README.md) [![Platform](https://img.shields.io/badge/å¹³å°-Linux-green.svg)](README.md) [![License](https://img.shields.io/badge/è®¸å¯è¯-MIT-orange.svg)](LICENSE)

## ğŸª å·¥å…·æ¦‚è§ˆ

| ğŸ”§ å·¥å…·ç±»å‹ | ğŸ“Š å·¥å…·æ•°é‡ | ğŸ¯ ä¸»è¦ç”¨é€” |
|------------|-----------|-----------|
| ğŸ› ï¸ ç³»ç»Ÿä¼˜åŒ– | 1ä¸ª | å†…æ ¸å‚æ•°è°ƒä¼˜ |
| ğŸŒ WebæœåŠ¡ | 3ä¸ª | Nginx + SSL + GeoIP |
| ğŸ” ç›‘æ§åˆ†æ | 3ä¸ª | IPåˆ†æ + çŠ¶æ€ç›‘æ§ + DNSä¼˜åŒ– |
| ğŸš€ ç½‘ç»œå·¥å…· | 2ä¸ª | å†…ç½‘ç©¿é€ + DoHæµ‹è¯• |

---

## ğŸ› ï¸ ç³»ç»Ÿä¼˜åŒ–ç±»

# Linuxå†…æ ¸ä¼˜åŒ–è„šæœ¬ v2.0

ä¸€é”®ä¼˜åŒ–Linuxå†…æ ¸å‚æ•°ï¼Œæå‡æœåŠ¡å™¨æ€§èƒ½çš„è‡ªåŠ¨åŒ–è„šæœ¬ã€‚

## åŠŸèƒ½ç‰¹ç‚¹

- ğŸš€ **ä¸€é”®ä¼˜åŒ–**ï¼šé’ˆå¯¹Webã€æ•°æ®åº“ã€ä»£ç†æœåŠ¡å™¨ç­‰ä¸åŒåœºæ™¯
- ğŸ“Š **å‚æ•°å¯¹æ¯”**ï¼šæ¸…æ™°æ˜¾ç¤ºä¼˜åŒ–å‰åçš„å‚æ•°å˜åŒ–
- ğŸ”„ **å®‰å…¨å›æ»š**ï¼šè‡ªåŠ¨å¤‡ä»½ï¼Œæ”¯æŒä¸€é”®æ¢å¤
- ğŸ¯ **æ™ºèƒ½é€‚é…**ï¼šè‡ªåŠ¨æ£€æµ‹ç³»ç»Ÿç‰ˆæœ¬å’Œç¯å¢ƒ

## æ”¯æŒç³»ç»Ÿ

- Ubuntu, Debian, CentOS, RHEL, Fedora, Arch Linux
- å†…æ ¸ç‰ˆæœ¬ >= 3.10
- éœ€è¦ root æƒé™

## å®‰è£…ä½¿ç”¨

```bash
# ä¸‹è½½è„šæœ¬
wget https://raw.githubusercontent.com/your-repo/optimize.sh
chmod +x optimize.sh

# è¿è¡Œè„šæœ¬
sudo ./optimize.sh
```

## å¿«é€Ÿå‘½ä»¤

```bash
# VPSä»£ç†æœåŠ¡å™¨ä¼˜åŒ–ï¼ˆæ¨èï¼‰
sudo ./optimize.sh --proxy

# WebæœåŠ¡å™¨ä¼˜åŒ–
sudo ./optimize.sh --web

# æ•°æ®åº“æœåŠ¡å™¨ä¼˜åŒ–
sudo ./optimize.sh --database

# æŸ¥çœ‹ä¼˜åŒ–æ•ˆæœå¯¹æ¯”
sudo ./optimize.sh --compare

# é¢„è§ˆæ¨¡å¼ï¼ˆä¸å®é™…åº”ç”¨ï¼‰
sudo ./optimize.sh --proxy --preview
```

## æ–‡ä»¶ä½ç½®

```
/etc/sysctl.d/99-kernel-optimization.conf     # ä¼˜åŒ–é…ç½®æ–‡ä»¶
/var/backups/kernel_optimization/             # å¤‡ä»½ç›®å½•
/var/log/kernel_optimization.log              # æ“ä½œæ—¥å¿—
```
---

## ğŸŒ WebæœåŠ¡ç±»

### ğŸ”§ Nginx è‡ªåŠ¨æ›´æ–°

**ğŸ’¡ ä½œç”¨ï¼š** è‡ªåŠ¨åŒ–å®‰è£…å’Œå‡çº§Nginxï¼Œæ”¯æŒæºç ç¼–è¯‘ä¼˜åŒ–

```bash
# ğŸš€ ä¸€é”®è¿è¡Œ
bash <(curl -Ls https://raw.githubusercontent.com/BuBuxsy/Shell_Tools/main/Auto_Upgrade_Nginx.sh)
```

#### âš¡ æ ¸å¿ƒç‰¹æ€§

- **ğŸ”¥ ç‰ˆæœ¬é€‰æ‹©**ï¼šä¸»çº¿ç‰ˆ or ç¨³å®šç‰ˆ
- **âš™ï¸ ä¾èµ–ç®¡ç†**ï¼šè‡ªåŠ¨å®‰è£…ç¼–è¯‘ä¾èµ–
- **ğŸ—‚ï¸ å¤‡ä»½æ¢å¤**ï¼šè‡ªåŠ¨å¤‡ä»½ç°æœ‰é…ç½®
- **âš¡ æ€§èƒ½ä¼˜åŒ–**ï¼šå¯ç”¨ Brotli + GeoIP2
- **ğŸ”§ systemdé›†æˆ**ï¼šè‡ªåŠ¨é…ç½®æœåŠ¡
- **ğŸ› ï¸ é”™è¯¯å¤„ç†**ï¼šè¯¦ç»†æ—¥å¿—å’Œè¯Šæ–­

#### ğŸ“¦ å†…ç½®æ¨¡å—

| æ¨¡å— | åŠŸèƒ½ | ç”¨é€” |
|------|------|------|
| QUIC | HTTP/3æ”¯æŒ | ğŸš€ ä¸‹ä¸€ä»£åè®® |
| Brotli | å‹ç¼©ç®—æ³• | ğŸ“¦ æ›´é«˜å‹ç¼©æ¯” |
| OCSP | è¯ä¹¦éªŒè¯ | ğŸ”’ å®‰å…¨å¢å¼º |
| GEOIP2 | åœ°ç†ä½ç½® | ğŸŒ IPåœ°ç†å®šä½ |
| KTLS | å†…æ ¸TLS | âš¡ æ€§èƒ½ä¼˜åŒ– |

---

### ğŸŒ GeoIP2 æ•°æ®åº“æ›´æ–°

**ğŸ’¡ ä½œç”¨ï¼š** æ›´æ–°Country.mmdbæ•°æ®åº“ä¾›Nginx GEOIP2ä½¿ç”¨

```bash
# ğŸš€ ä¸€é”®è¿è¡Œ
bash <(curl -Ls https://raw.githubusercontent.com/BuBuxsy/Shell_Tools/main/update_Country.sh)
```

#### ğŸ“ è¯¦ç»†ä¿¡æ¯

- **ğŸ“‚ é»˜è®¤è·¯å¾„**ï¼š`/usr/share/geoip`
- **ğŸ“± é€šçŸ¥æ”¯æŒ**ï¼šä¼ä¸šå¾®ä¿¡æ¨é€
- **ğŸ”„ æ›´æ–°é¢‘ç‡**ï¼šå»ºè®®æ¯æœˆæ›´æ–°
- **ğŸ’¾ è‡ªåŠ¨å¤‡ä»½**ï¼šä¿ç•™æ—§ç‰ˆæœ¬æ•°æ®åº“

---

### ğŸ” SSLè¯ä¹¦è‡ªåŠ¨ç”³è¯·

**ğŸ’¡ ä½œç”¨ï¼š** è¶…ç®€å•çš„SSLè¯ä¹¦ç”³è¯·å·¥å…·ï¼Œæ”¯æŒå¤šCAå’Œè‡ªåŠ¨éªŒè¯

```bash
# ğŸš€ ä¸€é”®è¿è¡Œ
bash <(curl -Ls https://raw.githubusercontent.com/BuBuxsy/Shell_Tools/main/install_cert.sh)
```

#### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

| åŠŸèƒ½ | å›¾æ ‡ | è¯´æ˜ |
|------|------|------|
| ç”³è¯·æ–°è¯ä¹¦ | ğŸ†• | æ–°åŸŸåSSLè¯ä¹¦ç”³è¯· |
| ç»­æœŸè¯ä¹¦ | ğŸ”„ | å¿«è¿‡æœŸè¯ä¹¦ç»­å‘½ |
| å¼ºåˆ¶æ›´æ–° | ğŸ’ª | é‡æ–°ç”Ÿæˆè¯ä¹¦ |
| æŸ¥çœ‹çŠ¶æ€ | ğŸ‘€ | æ£€æŸ¥è¯ä¹¦å¥åº·åº¦ |

#### ğŸ¤– éªŒè¯æ–¹å¼

**æ‰‹åŠ¨éªŒè¯** ğŸ™‹â€â™‚ï¸
```bash
# æ·»åŠ DNS TXTè®°å½•
ğŸ“ è®°å½•åç§°ï¼š_acme-challenge.example.com
ğŸ“‹ è®°å½•ç±»å‹ï¼šTXT
ğŸ”‘ è®°å½•å€¼ï¼š[ç³»ç»Ÿç”Ÿæˆ]
```

**APIè‡ªåŠ¨éªŒè¯** ğŸ¤–
| DNSæœåŠ¡å•† | APIåç§° | æ¨èåº¦ |
|-----------|---------|--------|
| é˜¿é‡Œäº‘ â˜ï¸ | dns_ali | â­â­â­â­â­ |
| è…¾è®¯äº‘ ğŸ§ | dns_tencent | â­â­â­â­â­ |
| Cloudflare ğŸŒ¤ï¸ | dns_cf | â­â­â­â­â­ |
| DNSPod ğŸŒ | dns_dp | â­â­â­â­ |

#### ğŸ“‚ è¯ä¹¦æ–‡ä»¶ä½ç½®

```
ğŸ“ /etc/nginx/cert_file/
â”œâ”€â”€ ğŸ“„ domain.cert.pem      # è¯ä¹¦æ–‡ä»¶
â”œâ”€â”€ ğŸ” domain.key.pem       # ç§é’¥æ–‡ä»¶
â””â”€â”€ ğŸ“œ domain.fullchain.pem # å®Œæ•´è¯ä¹¦é“¾
```

---

## ğŸ” ç›‘æ§åˆ†æç±»

### ğŸŒ IPè®¿é—®åˆ†æï¼ˆé˜²åˆ·DNSï¼‰

**ğŸ’¡ ä½œç”¨ï¼š** æŸ¥è¯¢è®¿é—®æœåŠ¡å™¨çš„IPå¹¶æ˜¾ç¤ºåœ°ç†ä½ç½®

```bash
# ğŸš€ ä¸€é”®è¿è¡Œ
bash <(curl -Ls https://raw.githubusercontent.com/BuBuxsy/Shell_Tools/main/search_ip.sh)
```

#### ğŸ“‹ ä½¿ç”¨è¦æ±‚

- âœ… **å®‰è£…nali**ï¼šIPåœ°ç†ä½ç½®æŸ¥è¯¢å·¥å…·
- âœ… **å¼€å¯æ—¥å¿—**ï¼šNginx access.log è®°å½•
- ğŸ“Š **åˆ†æåŠŸèƒ½**ï¼šè¯†åˆ«å¼‚å¸¸è®¿é—®æ¨¡å¼

#### ğŸ¯ é€‚ç”¨åœºæ™¯

- ğŸ›¡ï¸ **é˜²åˆ·æ£€æµ‹**ï¼šè¯†åˆ«æ¶æ„IP
- ğŸ“ˆ **è®¿é—®ç»Ÿè®¡**ï¼šåœ°ç†åˆ†å¸ƒåˆ†æ
- ğŸš« **é»‘åå•**ï¼šç”ŸæˆIPå°ç¦åˆ—è¡¨

---

### ğŸ“Š æœåŠ¡å™¨çŠ¶æ€æ¨é€

**ğŸ’¡ ä½œç”¨ï¼š** å®šæ—¶æ¨é€æœåŠ¡å™¨è¿è¡ŒçŠ¶æ€åˆ°ä¼ä¸šå¾®ä¿¡

```bash
# ğŸ“¥ ä¸‹è½½è„šæœ¬
curl -L -o server_status_report.sh \
  https://raw.githubusercontent.com/BuBuxsy/Shell_Tools/main/server_status_report.sh

# âœ… è®¾ç½®æƒé™
chmod +x server_status_report.sh

# âš™ï¸ é…ç½®webhookï¼ˆè®°å¾—ä¿®æ”¹è„šæœ¬ä¸­çš„keyï¼‰
```

#### ğŸ“± ç›‘æ§å†…å®¹

| ç›‘æ§é¡¹ | å›¾æ ‡ | è¯´æ˜ |
|--------|------|------|
| CPUä½¿ç”¨ç‡ | ğŸ§  | å®æ—¶CPUè´Ÿè½½ |
| å†…å­˜å ç”¨ | ğŸ§® | RAMä½¿ç”¨æƒ…å†µ |
| ç£ç›˜ç©ºé—´ | ğŸ’¾ | å­˜å‚¨ç©ºé—´çŠ¶æ€ |
| ç½‘ç»œæµé‡ | ğŸŒ | å¸¦å®½ä½¿ç”¨æƒ…å†µ |
| ç³»ç»Ÿè´Ÿè½½ | âš¡ | Load Average |

#### â° å®šæ—¶è®¾ç½®

```bash
# æ¯å°æ—¶æ¨é€ä¸€æ¬¡çŠ¶æ€
0 * * * * /path/to/server_status_report.sh

# æ¯å¤©9ç‚¹æ¨é€è¯¦ç»†æŠ¥å‘Š
0 9 * * * /path/to/server_status_report.sh --detailed
```

---

### ğŸ¯ MOSDNS é‡å¤åŸŸåæ”¶é›†

**ğŸ’¡ ä½œç”¨ï¼š** ä¼˜åŒ–DNSæŸ¥è¯¢å‹åŠ›ï¼Œç”ŸæˆTTLè§„åˆ™é…ç½®

```bash
# ğŸš€ ä¸€é”®è¿è¡Œ
bash <(curl -Ls https://raw.githubusercontent.com/BuBuxsy/Shell_Tools/main/collect_repeat_dns.sh)
```

#### âš™ï¸ é…ç½®è¦ç‚¹

| é…ç½®é¡¹ | è¦æ±‚ | è¯´æ˜ |
|--------|------|------|
| æ—¥å¿—çº§åˆ« | ğŸ“ infoçº§åˆ« | å¼€å¯mosdnsè¯¦ç»†æ—¥å¿— |
| é…ç½®æ–‡ä»¶ | âš™ï¸ è‡ªåŠ¨ç”Ÿæˆ | `dns_monitor.conf` |
| é€šçŸ¥æ–¹å¼ | ğŸ“± ä¼ä¸šå¾®ä¿¡ | æ”¯æŒçŠ¶æ€æ¨é€ |
| å®šæ—¶ä»»åŠ¡ | ğŸ• æ¯å°æ—¶ | `0 * * * * /path/to/script` |

#### ğŸ¯ ä¼˜åŒ–æ•ˆæœ

- ğŸ“‰ **å‡å°‘æŸ¥è¯¢**ï¼šç¼“å­˜çƒ­ç‚¹åŸŸå
- âš¡ **æå‡æ€§èƒ½**ï¼šä¼˜åŒ–å“åº”æ—¶é—´
- ğŸ“Š **æ•°æ®åˆ†æ**ï¼šç”Ÿæˆè®¿é—®ç»Ÿè®¡

---

## ğŸš€ ç½‘ç»œå·¥å…·ç±»

### ğŸŒ‰ Frp è‡ªåŠ¨å®‰è£…æ›´æ–°

**ğŸ’¡ ä½œç”¨ï¼š** è‡ªåŠ¨å®‰è£…å’Œæ›´æ–°Frpå†…ç½‘ç©¿é€å·¥å…·

```bash
# ğŸš€ ä¸€é”®è¿è¡Œ
bash <(curl -Ls https://raw.githubusercontent.com/BuBuxsy/Shell_Tools/main/update_frp.sh)
```

#### ğŸ—ï¸ æ¶æ„æ”¯æŒ

| æ¶æ„ | å›¾æ ‡ | æ”¯æŒçŠ¶æ€ |
|------|------|----------|
| amd64 | ğŸ’» | âœ… å®Œå…¨æ”¯æŒ |
| arm64 | ğŸ“± | âœ… å®Œå…¨æ”¯æŒ |
| armv7 | ğŸ”§ | âš ï¸ éƒ¨åˆ†æ”¯æŒ |

#### ğŸ”§ åŠŸèƒ½ç‰¹æ€§

- **ğŸ“¦ è‡ªåŠ¨ä¸‹è½½**ï¼šè·å–æœ€æ–°ç‰ˆæœ¬
- **ğŸ”„ å¹³æ»‘å‡çº§**ï¼šä¸ä¸­æ–­ç°æœ‰è¿æ¥
- **âš™ï¸ é…ç½®ä¿ç•™**ï¼šä¿æŒåŸæœ‰é…ç½®
- **ğŸ›¡ï¸ å®‰å…¨æ£€æŸ¥**ï¼šéªŒè¯æ–‡ä»¶å®Œæ•´æ€§

---

### ğŸŒ DoH æœåŠ¡å™¨æµ‹è¯•å·¥å…·

**ğŸ’¡ ä½œç”¨ï¼š** å…¨é¢æµ‹è¯•DNS-over-HTTPSæœåŠ¡å™¨æ€§èƒ½

```bash
# ğŸ“¥ ä¸‹è½½è„šæœ¬
curl -L -o enhanced-doh-test.sh \
  https://raw.githubusercontent.com/BuBuXSY/Shell_Tools/refs/heads/main/enhanced-doh-test.sh

# âœ… è®¾ç½®æƒé™
chmod +x enhanced-doh-test.sh
```

#### ğŸ¯ æµ‹è¯•åŠŸèƒ½

| åŠŸèƒ½ | å›¾æ ‡ | è¯´æ˜ |
|------|------|------|
| åè®®æ”¯æŒ | ğŸŒ | HTTP/3ã€EDNSã€DNSSEC |
| IPv6æµ‹è¯• | ğŸ”— | åŒæ ˆç½‘ç»œæ”¯æŒ |
| æ€§èƒ½æµ‹è¯• | âš¡ | å»¶è¿Ÿå’Œå¯ç”¨æ€§ |
| æ™ºèƒ½æ¨è | ğŸ§  | æœ€ä½³æœåŠ¡å™¨æ¨è |

#### ğŸ“Š è¾“å‡ºæ ¼å¼

```bash
# ğŸ¯ æµ‹è¯•æŒ‡å®šåŸŸå
./enhanced-doh-test.sh -d example.com

# ğŸ“‹ JSONæ ¼å¼è¾“å‡º
./enhanced-doh-test.sh -f json

# ğŸ” ç½‘ç»œè¯Šæ–­æ¨¡å¼
./enhanced-doh-test.sh --diagnosis

# ğŸ“ˆ CSVæŠ¥å‘Šè¾“å‡º
./enhanced-doh-test.sh -f csv
```

#### ğŸŒ è¦†ç›–æœåŠ¡å•†

**å›½å†…æœåŠ¡å•†**
- ğŸ”µ é˜¿é‡Œäº‘DNS
- ğŸ§ è…¾è®¯äº‘DNS  
- ğŸŸ¢ 360DNS
- ğŸ”¶ ç™¾åº¦DNS

**å›½å¤–æœåŠ¡å•†**
- ğŸŒ¤ï¸ Cloudflare
- ğŸ” Google DNS
- ğŸ›¡ï¸ Quad9
- ğŸ¯ OpenDNS

---

## âš ï¸ ä½¿ç”¨é¡»çŸ¥

### ğŸ›¡ï¸ å®‰å…¨æé†’

| å»ºè®® | å›¾æ ‡ | é‡è¦æ€§ |
|------|------|--------|
| æµ‹è¯•ä¼˜å…ˆ | âœ… | â­â­â­â­â­ |
| è‡ªåŠ¨å¤‡ä»½ | ğŸ“¦ | â­â­â­â­ |
| ç›‘æ§ç³»ç»Ÿ | ğŸ“Š | â­â­â­â­ |
| å¿«é€Ÿå›æ»š | ğŸ”„ | â­â­â­â­â­ |


### ğŸ“ è·å–å¸®åŠ©

```bash
# ğŸ’¡ æŸ¥çœ‹è„šæœ¬å¸®åŠ©
./script_name.sh --help

# ğŸ“‹ æŸ¥çœ‹è¯¦ç»†é€‰é¡¹
./script_name.sh --usage

# ğŸ” è°ƒè¯•æ¨¡å¼è¿è¡Œ
./script_name.sh --debug
```

---

## ğŸ¯ å¿«é€Ÿå¯¼èˆª

### ğŸ”° æ–°æ‰‹æ¨èè·¯å¾„

1. **ğŸ› ï¸ ç³»ç»Ÿä¼˜åŒ–** â†’ Linuxå†…æ ¸å‚æ•°ä¼˜åŒ–ï¼ˆå¿«é€Ÿæ¨¡å¼ï¼‰
2. **ğŸ” SSLè¯ä¹¦** â†’ è¯ä¹¦ç”³è¯·ï¼ˆæ‰‹åŠ¨DNSéªŒè¯ï¼‰
3. **ğŸ“Š çŠ¶æ€ç›‘æ§** â†’ æœåŠ¡å™¨çŠ¶æ€æ¨é€
4. **ğŸŒ æ€§èƒ½æµ‹è¯•** â†’ DoHæœåŠ¡å™¨æµ‹è¯•

### ğŸš€ è¿›é˜¶ä½¿ç”¨è·¯å¾„

1. **ğŸ”§ Nginxå‡çº§** â†’ è‡ªåŠ¨æ›´æ–°ï¼ˆåŒ…å«æ‰€æœ‰æ¨¡å—ï¼‰
2. **ğŸ¤– è‡ªåŠ¨åŒ–SSL** â†’ APIè‡ªåŠ¨éªŒè¯
3. **ğŸ¯ DNSä¼˜åŒ–** â†’ MOSDNSé‡å¤åŸŸåæ”¶é›†
4. **ğŸŒ‰ å†…ç½‘ç©¿é€** â†’ Frpè‡ªåŠ¨éƒ¨ç½²

### ğŸ“ˆ ç”Ÿäº§ç¯å¢ƒå»ºè®®

1. **ğŸ“¦ å¤‡ä»½ç­–ç•¥**ï¼šæ‰€æœ‰é…ç½®è‡ªåŠ¨å¤‡ä»½
2. **ğŸ“Š ç›‘æ§ä½“ç³»**ï¼šçŠ¶æ€æ¨é€ + IPåˆ†æ  
3. **ğŸ”„ è‡ªåŠ¨åŒ–**ï¼šSSLè‡ªåŠ¨ç»­æœŸ + ç³»ç»Ÿè‡ªåŠ¨ä¼˜åŒ–
4. **ğŸ›¡ï¸ å®‰å…¨åŠ å›º**ï¼šGeoIP2åœ°ç†é™åˆ¶ + é˜²åˆ·æ£€æµ‹

---

## ğŸ¤ è´¡çŒ®ä¸æ”¯æŒ

### ğŸ’– å‚ä¸è´¡çŒ®

- **ğŸ› Bugåé¦ˆ**ï¼š[æäº¤Issue](https://github.com/BuBuxsy/Shell_Tools/issues)
- **ğŸ’¡ åŠŸèƒ½å»ºè®®**ï¼š[åŠŸèƒ½è¯·æ±‚](https://github.com/BuBuxsy/Shell_Tools/issues/new)
- **ğŸ”§ ä»£ç è´¡çŒ®**ï¼š[Pull Request](https://github.com/BuBuxsy/Shell_Tools/pulls)


### â­ æ”¯æŒé¡¹ç›®

è§‰å¾—æœ‰ç”¨ï¼Ÿç»™ä¸ªStaræ”¯æŒä¸€ä¸‹ï¼â­

---

**ğŸ‰ è®©Linuxè¿ç»´æ›´ç®€å•ï¼Œè®©è‡ªåŠ¨åŒ–æˆä¸ºä¹ æƒ¯ï¼**
